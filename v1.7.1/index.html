<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · SQLite.jl</title><meta name="title" content="Home · SQLite.jl"/><meta property="og:title" content="Home · SQLite.jl"/><meta property="twitter:title" content="Home · SQLite.jl"/><meta name="description" content="Documentation for SQLite.jl."/><meta property="og:description" content="Documentation for SQLite.jl."/><meta property="twitter:description" content="Documentation for SQLite.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">SQLite.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a><ul class="internal"><li><a class="tocitem" href="#High-level-interface"><span>High-level interface</span></a></li><li><a class="tocitem" href="#Types/Functions"><span>Types/Functions</span></a></li><li><a class="tocitem" href="#User-Defined-Functions"><span>User Defined Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDatabases/SQLite.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDatabases/SQLite.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="SQLite.jl-Documentation"><a class="docs-heading-anchor" href="#SQLite.jl-Documentation">SQLite.jl Documentation</a><a id="SQLite.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#SQLite.jl-Documentation" title="Permalink"></a></h1><ul><li><a href="index.html#SQLite.jl-Documentation">SQLite.jl Documentation</a></li><li class="no-marker"><ul><li><a href="index.html#High-level-interface">High-level interface</a></li><li><a href="index.html#Types/Functions">Types/Functions</a></li><li><a href="index.html#User-Defined-Functions">User Defined Functions</a></li></ul></li></ul><h2 id="High-level-interface"><a class="docs-heading-anchor" href="#High-level-interface">High-level interface</a><a id="High-level-interface-1"></a><a class="docs-heading-anchor-permalink" href="#High-level-interface" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="DBInterface.execute-Tuple{SQLite.Stmt, Union{Tuple, AbstractDict, NamedTuple, AbstractVector}}"><a class="docstring-binding" href="#DBInterface.execute-Tuple{SQLite.Stmt, Union{Tuple, AbstractDict, NamedTuple, AbstractVector}}"><code>DBInterface.execute</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">DBInterface.execute(db::SQLite.DB, sql::String, [params])
DBInterface.execute(stmt::SQLite.Stmt, [params])</code></pre><p>Bind any positional (<code>params</code> as <code>Vector</code> or <code>Tuple</code>) or named (<code>params</code> as <code>NamedTuple</code> or <code>Dict</code>) parameters to an SQL statement, given by <code>db</code> and <code>sql</code> or as an already prepared statement <code>stmt</code>, execute the query and return an iterator of result rows.</p><p>Note that the returned result row iterator only supports a single-pass, forward-only iteration of the result rows. Calling <code>SQLite.reset!(result)</code> will re-execute the query and reset the iterator back to the beginning.</p><p>The resultset iterator supports the <a href="https://github.com/JuliaData/Tables.jl">Tables.jl</a> interface, so results can be collected in any Tables.jl-compatible sink, like <code>DataFrame(results)</code>, <code>CSV.write(&quot;results.csv&quot;, results)</code>, etc.</p><p>Passing <code>strict=true</code> to <code>DBInterface.execute</code> will cause the resultset iterator to return values of the exact type specified by SQLite.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/tables.jl#L139-L153">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.load!"><a class="docstring-binding" href="#SQLite.load!"><code>SQLite.load!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">source |&gt; SQLite.load!(db::SQLite.DB, tablename::String; temp::Bool=false, ifnotexists::Bool=false, replace::Bool=false, on_conflict::Union{String, Nothing} = nothing, analyze::Bool=false)
SQLite.load!(source, db, tablename; temp=false, ifnotexists=false, replace::Bool=false, on_conflict::Union{String, Nothing} = nothing, analyze::Bool=false)</code></pre><p>Load a Tables.jl input <code>source</code> into an SQLite table that will be named <code>tablename</code> (will be auto-generated if not specified).</p><ul><li><code>temp=true</code> will create a temporary SQLite table that will be destroyed automatically when the database is closed</li><li><code>ifnotexists=false</code> will throw an error if <code>tablename</code> already exists in <code>db</code></li><li><code>on_conflict=nothing</code> allows to specify an alternative <a href="https://sqlite.org/lang_conflict.html">constraint conflict resolution algorithm</a>: &quot;ABORT&quot;, &quot;FAIL&quot;, &quot;IGNORE&quot;, &quot;REPLACE&quot;, or &quot;ROLLBACK&quot;.</li><li><code>replace=false</code> controls whether an <code>INSERT INTO ...</code> statement is generated or a <code>REPLACE INTO ...</code>. This keyword argument exists for backward compatibility, and is overridden if an algorithm is selected using the <code>on_conflict</code> keyword.</li><li><code>analyze=true</code> will execute <code>ANALYZE</code> at the end of the insert</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/tables.jl#L235-L246">source</a></section></details></article><h2 id="Types/Functions"><a class="docs-heading-anchor" href="#Types/Functions">Types/Functions</a><a id="Types/Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Types/Functions" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="SQLite.DB"><a class="docstring-binding" href="#SQLite.DB"><code>SQLite.DB</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">`SQLite.DB()` =&gt; in-memory SQLite database
`SQLite.DB(file)` =&gt; file-based SQLite database</code></pre><p>Constructors for a representation of an sqlite database, either backed by an on-disk file or in-memory.</p><p><code>SQLite.DB</code> requires the <code>file</code> string argument in the 2nd definition as the name of either a pre-defined SQLite database to be opened, or if the file doesn&#39;t exist, a database will be created. Note that only sqlite 3.x version files are supported.</p><p>The <code>SQLite.DB</code> object represents a single connection to an SQLite database. All other SQLite.jl functions take an <code>SQLite.DB</code> as the first argument as context.</p><p>To create an in-memory temporary database, call <code>SQLite.DB()</code>.</p><p>The <code>SQLite.DB</code> will be automatically closed/shutdown when it goes out of scope (i.e. the end of the Julia session, end of a function call wherein it was created, etc.)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L40-L58">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.Stmt"><a class="docstring-binding" href="#SQLite.Stmt"><code>SQLite.Stmt</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SQLite.Stmt(db, sql; register = true) =&gt; SQL.Stmt</code></pre><p>Prepares an optimized internal representation of SQL statement in the context of the provided SQLite3 <code>db</code> and constructs the <code>SQLite.Stmt</code> Julia object that holds a reference to the prepared statement.</p><p><em>Note</em>: the <code>sql</code> statement is not actually executed, but only compiled (mainly for usage where the same statement is executed multiple times with different parameters bound as values).</p><p>The <code>SQLite.Stmt</code> will be automatically closed/shutdown when it goes out of scope (i.e. the end of the Julia session, end of a function call wherein it was created, etc.). One can also call <code>DBInterface.close!(stmt)</code> to immediately close it.</p><p>The keyword argument <code>register</code> controls whether the created <code>Stmt</code> is registered in the provided SQLite3 database <code>db</code>. All registered and unclosed statements of a given DB connection are automatically closed when the DB is garbage collected or closed explicitly after calling <code>close(db)</code> or <code>DBInterface.close!(db)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L131-L150">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.bind!"><a class="docstring-binding" href="#SQLite.bind!"><code>SQLite.bind!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.bind!(stmt::SQLite.Stmt, values)</code></pre><p>bind <code>values</code> to parameters in a prepared <a href="index.html#SQLite.Stmt"><code>SQLite.Stmt</code></a>. Values can be:</p><ul><li><code>Vector</code> or <code>Tuple</code>: where each element will be bound to an SQL parameter by index order</li><li><code>Dict</code> or <code>NamedTuple</code>; where values will be bound to named SQL parameters by the <code>Dict</code>/<code>NamedTuple</code> key</li></ul><p>Additional methods exist for working individual SQL parameters:</p><ul><li><code>SQLite.bind!(stmt, name, val)</code>: bind a single value to a named SQL parameter</li><li><code>SQLite.bind!(stmt, index, val)</code>: bind a single value to a SQL parameter by index number</li></ul><p>From the <a href="https://www3.sqlite.org/cintro.html">SQLite documentation</a>:</p><blockquote><p>Usually, though, it is not useful to evaluate exactly the same SQL statement more than once. More often, one wants to evaluate similar statements. For example, you might want to evaluate an INSERT statement multiple times though with different values to insert. To accommodate this kind of flexibility, SQLite allows SQL statements to contain parameters which are &quot;bound&quot; to values prior to being evaluated. These values can later be changed and the same prepared statement can be evaluated a second time using the new values.</p><p>In SQLite, wherever it is valid to include a string literal, one can use a parameter in one of the following forms:</p><ul><li><code>?</code></li><li><code>?NNN</code></li><li><code>:AAA</code></li><li><code>$AAA</code></li><li><code>@AAA</code></li></ul><p>In the examples above, <code>NNN</code> is an integer value and <code>AAA</code> is an identifier. A parameter initially has a value of <code>NULL</code>. Prior to calling <code>sqlite3_step()</code> for the first time or immediately after <code>sqlite3_reset()</code><code>, the application can invoke one of the</code>sqlite3<em>bind()<code>interfaces to attach values to the parameters. Each call to</code>sqlite3</em>bind()` overrides prior bindings on the same parameter.</p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L209-L254">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.createtable!"><a class="docstring-binding" href="#SQLite.createtable!"><code>SQLite.createtable!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.createtable!(db::SQLite.DB, table_name, schema::Tables.Schema; temp=false, ifnotexists=true, strict=false)</code></pre><p>Create a table in <code>db</code> with name <code>table_name</code>, according to <code>schema</code>, which is a set of column names and types, constructed like <code>Tables.Schema(names, types)</code> where <code>names</code> can be a vector or tuple of String/Symbol column names, and <code>types</code> is a vector or tuple of sqlite-compatible types (<code>Int</code>, <code>Float64</code>, <code>String</code>, or unions of <code>Missing</code>).</p><p>If <code>temp=true</code>, the table will be created temporarily, which means it will be deleted when the <code>db</code> is closed. If <code>ifnotexists=true</code>, no error will be thrown if the table already exists.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/tables.jl#L189-L197">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.drop!"><a class="docstring-binding" href="#SQLite.drop!"><code>SQLite.drop!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.drop!(db, table; ifexists::Bool=false)</code></pre><p>drop the SQLite table <code>table</code> from the database <code>db</code>; <code>ifexists=true</code> will prevent an error being thrown if <code>table</code> doesn&#39;t exist</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L721-L725">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.dropindex!"><a class="docstring-binding" href="#SQLite.dropindex!"><code>SQLite.dropindex!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.dropindex!(db, index; ifexists::Bool=false)</code></pre><p>drop the SQLite index <code>index</code> from the database <code>db</code>; <code>ifexists=true</code> will not return an error if <code>index</code> doesn&#39;t exist</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L734-L738">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.createindex!"><a class="docstring-binding" href="#SQLite.createindex!"><code>SQLite.createindex!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.createindex!(db, table, index, cols; unique=true, ifnotexists=false)</code></pre><p>create the SQLite index <code>index</code> on the table <code>table</code> using <code>cols</code>, which may be a single column or vector of columns. <code>unique</code> specifies whether the index will be unique or not. <code>ifnotexists=true</code> will not throw an error if the index already exists</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L746-L753">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.removeduplicates!"><a class="docstring-binding" href="#SQLite.removeduplicates!"><code>SQLite.removeduplicates!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.removeduplicates!(db, table, cols)</code></pre><p>Removes duplicate rows from <code>table</code> based on the values in <code>cols</code>, which is an array of column names.</p><p>A convenience method for the common task of removing duplicate rows in a dataset according to some subset of columns that make up a &quot;primary key&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L774-L781">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.tables"><a class="docstring-binding" href="#SQLite.tables"><code>SQLite.tables</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.tables(db, sink=columntable)</code></pre><p>returns a list of tables in <code>db</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L803-L807">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.columns"><a class="docstring-binding" href="#SQLite.columns"><code>SQLite.columns</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.columns(db, table, sink=columntable)</code></pre><p>returns a list of columns in <code>table</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L837-L841">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.indices"><a class="docstring-binding" href="#SQLite.indices"><code>SQLite.indices</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.indices(db, sink=columntable)</code></pre><p>returns a list of indices in <code>db</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L824-L828">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.enable_load_extension"><a class="docstring-binding" href="#SQLite.enable_load_extension"><code>SQLite.enable_load_extension</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.enable_load_extension(db, enable::Bool=true)</code></pre><p>Enables extension loading (off by default) on the sqlite database <code>db</code>. Pass <code>false</code> as the second argument to disable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L853-L857">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.register"><a class="docstring-binding" href="#SQLite.register"><code>SQLite.register</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.register(db, func)
SQLite.register(db, init, step_func, final_func; nargs=-1, name=string(step), isdeterm=true)</code></pre><p>Register a scalar (first method) or aggregate (second method) function with a <a href="index.html#SQLite.DB"><code>SQLite.DB</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/UDF.jl#L215-L221">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.@register"><a class="docstring-binding" href="#SQLite.@register"><code>SQLite.@register</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">SQLite.@register db function</code></pre><p>User-facing macro for convenience in registering a simple function with no configurations needed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/UDF.jl#L203-L208">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.@sr_str"><a class="docstring-binding" href="#SQLite.@sr_str"><code>SQLite.@sr_str</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">sr&quot;...&quot;</code></pre><p>This string literal is used to escape all special characters in the string, useful for using regex in a query.</p><p>This literal is deprecated and users should switch to <code>Base.@raw_str</code> instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/UDF.jl#L298-L305">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.sqlreturn"><a class="docstring-binding" href="#SQLite.sqlreturn"><code>SQLite.sqlreturn</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>This function should never be called explicitly. Instead it is exported so that it can be overloaded when necessary, see <a href="index.html#regex">below</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/UDF.jl#L26-L30">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.transaction"><a class="docstring-binding" href="#SQLite.transaction"><code>SQLite.transaction</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.transaction(db, mode=&quot;DEFERRED&quot;)
SQLite.transaction(func, db)</code></pre><p>Begin a transaction in the specified <code>mode</code>, default = &quot;DEFERRED&quot;.</p><p>If <code>mode</code> is one of &quot;&quot;, &quot;DEFERRED&quot;, &quot;IMMEDIATE&quot; or &quot;EXCLUSIVE&quot; then a transaction of that (or the default) mutable struct is started. Otherwise a savepoint is created whose name is <code>mode</code> converted to AbstractString.</p><p>In the second method, <code>func</code> is executed within a transaction (the transaction being committed upon successful execution)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L646-L657">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.commit"><a class="docstring-binding" href="#SQLite.commit"><code>SQLite.commit</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.commit(db)
SQLite.commit(db, name)</code></pre><p>commit a transaction or named savepoint</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L697-L702">source</a></section></details></article><article><details class="docstring" open="true"><summary id="SQLite.rollback"><a class="docstring-binding" href="#SQLite.rollback"><code>SQLite.rollback</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">SQLite.rollback(db)
SQLite.rollback(db, name)</code></pre><p>rollback transaction or named savepoint</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDatabases/SQLite.jl/blob/f02bf5a37019b7c2dd71d521ef6431875eb7597c/src/SQLite.jl#L708-L713">source</a></section></details></article><h2 id="User-Defined-Functions"><a class="docs-heading-anchor" href="#User-Defined-Functions">User Defined Functions</a><a id="User-Defined-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#User-Defined-Functions" title="Permalink"></a></h2><h3 id="regex"><a class="docs-heading-anchor" href="#regex">SQLite Regular Expressions</a><a id="regex-1"></a><a class="docs-heading-anchor-permalink" href="#regex" title="Permalink"></a></h3><p>SQLite provides syntax for calling the <a href="http://sqlite.org/lang_expr.html#regexp"><code>regexp</code> function</a> from inside <code>WHERE</code> clauses. Unfortunately, however, sqlite does not provide a default implementation of the <code>regexp</code> function. It can be easily added, however, by calling <code>SQLite.@register db SQLite.regexp</code></p><p>The function can be called in the following ways (examples using the <a href="http://chinookdatabase.codeplex.com/">Chinook Database</a>)</p><pre><code class="language-julia hljs">julia&gt; using SQLite

julia&gt; db = SQLite.DB(&quot;Chinook_Sqlite.sqlite&quot;)

julia&gt; # using SQLite&#39;s in-built syntax

julia&gt; DBInterface.execute(db, &quot;SELECT FirstName, LastName FROM Employee WHERE LastName REGEXP &#39;e(?=a)&#39;&quot;) |&gt; DataFrame
1x2 ResultSet
| Row | &quot;FirstName&quot; | &quot;LastName&quot; |
|-----|-------------|------------|
| 1   | &quot;Jane&quot;      | &quot;Peacock&quot;  |

julia&gt; # explicitly calling the regexp() function

julia&gt; DBInterface.execute(db, &quot;SELECT * FROM Genre WHERE regexp(&#39;e[trs]&#39;, Name)&quot;) |&gt; DataFrame
6x2 ResultSet
| Row | &quot;GenreId&quot; | &quot;Name&quot;               |
|-----|-----------|----------------------|
| 1   | 3         | &quot;Metal&quot;              |
| 2   | 4         | &quot;Alternative &amp; Punk&quot; |
| 3   | 6         | &quot;Blues&quot;              |
| 4   | 13        | &quot;Heavy Metal&quot;        |
| 5   | 23        | &quot;Alternative&quot;        |
| 6   | 25        | &quot;Opera&quot;              |

julia&gt; # you can even do strange things like this if you really want

julia&gt; DBInterface.execute(db, &quot;SELECT * FROM Genre ORDER BY GenreId LIMIT 2&quot;) |&gt; DataFrame
2x2 ResultSet
| Row | &quot;GenreId&quot; | &quot;Name&quot; |
|-----|-----------|--------|
| 1   | 1         | &quot;Rock&quot; |
| 2   | 2         | &quot;Jazz&quot; |

julia&gt; DBInterface.execute(db, &quot;INSERT INTO Genre VALUES (regexp(&#39;^word&#39;, &#39;this is a string&#39;), &#39;My Genre&#39;)&quot;) |&gt; DataFrame
1x1 ResultSet
| Row | &quot;Rows Affected&quot; |
|-----|-----------------|
| 1   | 0               |

julia&gt; DBInterface.execute(db, &quot;SELECT * FROM Genre ORDER BY GenreId LIMIT 2&quot;) |&gt; DataFrame
2x2 ResultSet
| Row | &quot;GenreId&quot; | &quot;Name&quot;     |
|-----|-----------|------------|
| 1   | 0         | &quot;My Genre&quot; |
| 2   | 1         | &quot;Rock&quot;     |</code></pre><p>Due to the heavy use of escape characters, you may run into problems where julia parses out some backslashes in your query, for example <code>&quot;\y&quot;</code> simply becomes <code>&quot;y&quot;</code>. For example, the following two queries are identical:</p><pre><code class="language-julia hljs">julia&gt; DBInterface.execute(db, &quot;SELECT * FROM MediaType WHERE Name REGEXP &#39;-\d&#39;&quot;) |&gt; DataFrame
1x1 ResultSet
| Row | &quot;Rows Affected&quot; |
|-----|-----------------|
| 1   | 0               |

julia&gt; DBInterface.execute(db, &quot;SELECT * FROM MediaType WHERE Name REGEXP &#39;-d&#39;&quot;) |&gt; DataFrame
1x1 ResultSet
| Row | &quot;Rows Affected&quot; |
|-----|-----------------|
| 1   | 0               |</code></pre><p>This can be avoided in two ways. You can either escape each backslash yourself or you can use the raw&quot;...&quot; string literal. The previous query can then successfully be run like so:</p><pre><code class="language-julia hljs">julia&gt; # manually escaping backslashes

julia&gt; DBInterface.execute(db, &quot;SELECT * FROM MediaType WHERE Name REGEXP &#39;-\\d&#39;&quot;) |&gt; DataFrame
1x2 ResultSet
| Row | &quot;MediaTypeId&quot; | &quot;Name&quot;                        |
|-----|---------------|-------------------------------|
| 1   | 3             | &quot;Protected MPEG-4 video file&quot; |


julia&gt; DBInterface.execute(db, raw&quot;SELECT * FROM MediaType WHERE Name REGEXP &#39;-\d&#39;&quot;) |&gt; DataFrame
1x2 ResultSet
| Row | &quot;MediaTypeId&quot; | &quot;Name&quot;                        |
|-----|---------------|-------------------------------|
| 1   | 3             | &quot;Protected MPEG-4 video file&quot; |</code></pre><h3 id="Custom-Scalar-Functions"><a class="docs-heading-anchor" href="#Custom-Scalar-Functions">Custom Scalar Functions</a><a id="Custom-Scalar-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Scalar-Functions" title="Permalink"></a></h3><p>SQLite.jl also provides a way that you can implement your own <a href="https://www.sqlite.org/lang_corefunc.html">Scalar Functions</a>. This is done using the <a href="index.html#SQLite.register"><code>SQLite.register</code></a> function and  macro.</p><p><a href="index.html#SQLite.@register"><code>SQLite.@register</code></a> takes a <a href="index.html#SQLite.DB"><code>SQLite.DB</code></a> and a function. The function can be in block syntax:</p><pre><code class="language-julia hljs">julia&gt; SQLite.@register db function add3(x)
       x + 3
       end</code></pre><p>inline function syntax:</p><pre><code class="language-julia hljs">julia&gt; SQLite.@register db mult3(x) = 3 * x</code></pre><p>and previously defined functions:</p><pre><code class="language-julia hljs">julia&gt; SQLite.@register db sin</code></pre><p>The <a href="index.html#SQLite.register"><code>SQLite.register</code></a> function takes optional arguments; <code>nargs</code> which defaults to <code>-1</code>, <code>name</code> which defaults to the name of the function, <code>isdeterm</code> which defaults to <code>true</code>. In practice these rarely need to be used.</p><p>The <a href="index.html#SQLite.register"><code>SQLite.register</code></a> function uses the <a href="index.html#SQLite.sqlreturn"><code>SQLite.sqlreturn</code></a> function to return your function&#39;s return value to SQLite. By default, <code>sqlreturn</code> maps the returned value to a <a href="http://sqlite.org/c3ref/result_blob.html">native SQLite type</a> or, failing that, serializes the julia value and stores it as a <code>BLOB</code>. To change this behaviour simply define a new method for <code>sqlreturn</code> which then calls a previously defined method for <code>sqlreturn</code>. Methods which map to native SQLite types are</p><pre><code class="language-julia hljs">sqlreturn(context, ::NullType)
sqlreturn(context, val::Int32)
sqlreturn(context, val::Int64)
sqlreturn(context, val::Float64)
sqlreturn(context, val::UTF16String)
sqlreturn(context, val::String)
sqlreturn(context, val::Any)</code></pre><p>As an example, say you would like <code>BigInt</code>s to be stored as <code>TEXT</code> rather than a <code>BLOB</code>. You would simply need to define the following method:</p><pre><code class="language-julia hljs">sqlreturn(context, val::BigInt) = sqlreturn(context, string(val))</code></pre><p>Another example is the <a href="index.html#SQLite.sqlreturn"><code>SQLite.sqlreturn</code></a> used by the <code>regexp</code> function. For <code>regexp</code> to work correctly, it must return it must return an <code>Int</code> (more specifically a <code>0</code> or <code>1</code>) but <code>occursin</code> (used by <code>regexp</code>) returns a <code>Bool</code>. For this reason the following method was defined:</p><pre><code class="language-julia hljs">sqlreturn(context, val::Bool) = sqlreturn(context, int(val))</code></pre><p>Any new method defined for <code>sqlreturn</code> must take two arguments and must pass the first argument straight through as the first argument.</p><h3 id="Custom-Aggregate-Functions"><a class="docs-heading-anchor" href="#Custom-Aggregate-Functions">Custom Aggregate Functions</a><a id="Custom-Aggregate-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Custom-Aggregate-Functions" title="Permalink"></a></h3><p>Using the <a href="index.html#SQLite.register"><code>SQLite.register</code></a> function, you can also define your own aggregate functions with largely the same semantics.</p><p>The <code>SQLite.register</code> function for aggregates must take a <code>SQLite.DB</code>, an initial value, a step function and a final function. The first argument to the step function will be the return value of the previous function (or the initial value if it is the first iteration). The final function must take a single argument which will be the return value of the last step function.</p><pre><code class="language-julia hljs">julia&gt; dsum(prev, cur) = prev + cur

julia&gt; dsum(prev) = 2 * prev

julia&gt; SQLite.register(db, 0, dsum, dsum)</code></pre><p>If no name is given, the name of the first (step) function is used (in this case &quot;dsum&quot;). You can also use lambdas; the following does the same as the previous code snippet</p><pre><code class="language-julia hljs">julia&gt; SQLite.register(db, 0, (p,c) -&gt; p+c, p -&gt; 2p, name=&quot;dsum&quot;)</code></pre></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Wednesday 14 January 2026 08:54">Wednesday 14 January 2026</span>. Using Julia version 1.12.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
